<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [FaxGate-users] Fehlerhafte CapiSuite Konfiguration
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/faxgate-users/2007-February/index.html" >
   <LINK REL="made" HREF="mailto:faxgate-users%40lists.berlios.de?Subject=Re%3A%20%5BFaxGate-users%5D%20Fehlerhafte%20CapiSuite%20Konfiguration&In-Reply-To=%3C200702122049.13218.ingo.goeppert%40gmx.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000007.html">
   <LINK REL="Next"  HREF="000008.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[FaxGate-users] Fehlerhafte CapiSuite Konfiguration</H1>
    <B>Ingo G&#246;ppert</B> 
    <A HREF="mailto:faxgate-users%40lists.berlios.de?Subject=Re%3A%20%5BFaxGate-users%5D%20Fehlerhafte%20CapiSuite%20Konfiguration&In-Reply-To=%3C200702122049.13218.ingo.goeppert%40gmx.de%3E"
       TITLE="[FaxGate-users] Fehlerhafte CapiSuite Konfiguration">ingo.goeppert at gmx.de
       </A><BR>
    <I>Mon Feb 12 20:49:09 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000007.html">[FaxGate-users] Fehlerhafte CapiSuite Konfiguration
</A></li>
        <LI>Next message: <A HREF="000008.html">[FaxGate-users] Fehlerhafte CapiSuite Konfiguration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9">[ date ]</a>
              <a href="thread.html#9">[ thread ]</a>
              <a href="subject.html#9">[ subject ]</a>
              <a href="author.html#9">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hallo Karsten,

Am Montag, 12. Februar 2007 16:25 schrieb Karsten Krause:
&gt;<i> Hallo zusammen,
</I>&gt;<i>
</I>&gt;<i> da ich aktuell meinen Server auf opensuse 10.2 upgedatet habe und in
</I>&gt;<i> diesem Schritt auch gleich von Hylafax zur Capisuite mit Faxgate
</I>&gt;<i> wechseln wollte, habe ich mich mit dieser L&#246;sung mal n&#228;her befasst.
</I>&gt;<i> Anleitungen wurden zu gen&#252;ge durchgeackert und alles ordnungsgem&#228;&#223;
</I>&gt;<i> installiert. Cups funktioniert, Capisuite funktioniert, nur am
</I>&gt;<i> Faxgate Drucker h&#228;ngts jetzt. Wenn ich ein Fax manuell &#252;ber
</I>&gt;<i> capisuitefax verschicke, dann liest er die Einstellungen aus fax.conf
</I>&gt;<i> ordnungsgem&#228;&#223; aus und verschickt das Fax. Sobald ich aber &#252;ber den
</I>&gt;<i> Cups Drucker ein Fax verschicken will, erhalte ich die Fehlermeldung:
</I>&gt;<i>
</I>&gt;<i> I [12/Feb/2007:15:54:17 +0100] Adding start banner page &quot;none&quot; to job
</I>&gt;<i> 16. I [12/Feb/2007:15:54:17 +0100] Adding end banner page &quot;none&quot; to
</I>&gt;<i> job 16. I [12/Feb/2007:15:54:17 +0100] Job 16 queued on &quot;Faxgate&quot; by
</I>&gt;<i> &quot;digitec&quot;. I [12/Feb/2007:15:54:17 +0100] Started backend
</I>&gt;<i> /usr/lib/cups/backend/faxgate (PID 9408) for job 16. E
</I>&gt;<i> [12/Feb/2007:15:54:17 +0100] [Job 16] Keine oder fehlerhafte
</I>&gt;<i> CapiSuite Konfiguration f&#195;&#188;r Benutzer digitec gefunden, Auftrag 16
</I>&gt;<i> zur&#195;&#188;ckgewiesen!
</I>&gt;<i>
</I>&gt;<i> Habe auch schon die Logging und Debug Levels hochgesetzt, um evtl.
</I>&gt;<i> den Fehler zu finden. Dazu mal die faxgate.log:
</I>
wenn du den Debuglevel f&#252;r cups hochsetzt, wirst du vermutlich sowas 
&#228;hnliches:
Oct 16 13:52:30 Linuxserver sudo: &#160; &#160; &#160; lp : parse error in /etc/sudoers
near line 15 ; TTY=unknown ; PWD=/ ; USER=root ;
COMMAND=/usr/bin/faxgate.py -u Janzen
Oct 16 13:52:30 Linuxserver sudo: &#160; &#160; &#160; lp : parse error in /etc/sudoers
near line 15 ; TTY=unknown ; PWD=/ ; USER=root ;
COMMAND=/usr/bin/faxgate.py --user=Faxmaster --ip=192.168.1.10 
--port=50000 
--command=Warn_err: ERROR: Keine oder fehlerhafte CapiSuite 
Konfiguration
f&#252;r Benutzer Janzen gefunden, Auftrag 1851 zur&#252;ckgewiesen

feststellen. Kontrolliere bitte deine sudoers entsprechend der Anleitung 
auf:
<A HREF="http://home.arcor.de/ingo.goeppert/faxgate/inst.shtml">http://home.arcor.de/ingo.goeppert/faxgate/inst.shtml</A>
8. Konfiguration von sudo (nur SuSE 9.0 und 9.1)

&gt;<i>
</I>&gt;<i> Temporary logfile from CUPS-Faxgate Backend
</I>&gt;<i>
</I>&gt;<i> Date and time: Mo 12. Feb 15:54:18 CET 2007
</I>&gt;<i>
</I>&gt;<i> Parameter:
</I>&gt;<i> All: 16 digitec smbprn.00000021 Remote Downlevel Document 1
</I>&gt;<i> job-uuid=urn:uuid:d58d8b19-adf8-3e94-42ce-e648c4afbc81
</I>&gt;<i> /var/spool/cups/d00016-001 0 - scriptname:    
</I>&gt;<i> /usr/lib/cups/backend/faxgate
</I>&gt;<i> 1 - job-id:         16
</I>&gt;<i> 2 - user:           digitec
</I>&gt;<i> 3 - title/filename: smbprn.00000021 Remote Downlevel Document
</I>
Du solltest deine smb.conf wie im Beispiel:
<A HREF="ftp://ftp.berlios.de/pub/faxgate/server/013/smb.conf">ftp://ftp.berlios.de/pub/faxgate/server/013/smb.conf</A>
anpassen, dann tauchen hier auch sinnvolle Parameter auf.

&gt;<i> 4 - copies:         1
</I>&gt;<i> 5 - options:       
</I>&gt;<i> job-uuid=urn:uuid:d58d8b19-adf8-3e94-42ce-e648c4afbc81 6 -
</I>&gt;<i> printfilename:  /var/spool/cups/d00016-001
</I>&gt;<i>
</I>&gt;<i> The environment:
</I>&gt;<i> CHARSET:         utf-8
</I>&gt;<i> CONTENT_TYPE:    application/vnd.cups-raw
</I>&gt;<i> CUPS_DATADIR:    /usr/share/cups
</I>&gt;<i> CUPS_SERVERROOT: /etc/cups
</I>&gt;<i> DEVICE_URI:      <A HREF="faxgate://capisuite">faxgate://capisuite</A>
</I>&gt;<i> LANG:            de_DE
</I>&gt;<i> PATH:           
</I>&gt;<i> /bin:/usr/sbin:/usr/lib/cups/filter:/usr/bin:/usr/sbin:/bin:/usr/bin
</I>&gt;<i> PPD:             /etc/cups/ppd/Faxgate.ppd
</I>&gt;<i> PRINTER:         Faxgate
</I>&gt;<i> RIP_CACHE:
</I>&gt;<i> SOFTWARE:        CUPS/1.2.7
</I>&gt;<i> TZ:
</I>&gt;<i> USER:            root
</I>&gt;<i> ID:              4
</I>
Bei id 4 muss sudo funktionieren, sonst geht nix.

&gt;<i> TMPDIR:          /var/spool/cups/tmp
</I>&gt;<i>
</I>&gt;<i> Variables generated by /usr/lib/cups/backend/faxgate
</I>&gt;<i> Mailaddress:
</I>&gt;<i> Faxnumber:
</I>&gt;<i> Tempfile:      /var/spool/cups/tmp/psfile.9408.ps
</I>&gt;<i> Hostip:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> *********************************************************************
</I>&gt;<i>********
</I>&gt;<i>
</I>&gt;<i> Auszug aus fax.conf (Nummern und Mailadresse ge&#228;ndert)
</I>&gt;<i>
</I>&gt;<i> [digitec]
</I>&gt;<i> fax_action=&quot;SaveOnly&quot;
</I>&gt;<i> fax_headline=&quot;Firma Fax&quot;
</I>&gt;<i> fax_email=<A HREF="https://lists.berlios.de/mailman/listinfo/faxgate-users">digitec at fima.de</A>
</I>&gt;<i> fax_numbers=&quot;xxxxxxx&quot;
</I>&gt;<i> fax_stationID=&quot;+49 89 xxxxxxx&quot;
</I>&gt;<i> outgoing_MSN=&quot;xxxxxxx&quot;
</I>&gt;<i> client_ip=&quot;x.x.x.x&quot;
</I>&gt;<i>
</I>&gt;<i> Die Anfrage faxgate.py --user=digitec gibt aber den korrekten
</I>
Alls root schon, als userid 4 nicht.

&gt;<i> Parameter f&#252;r die Mailadresse zur&#252;ck. Also scheint mit diesem Script
</I>&gt;<i> alles zu stimmen. Eventuell liegt der Fehler irgendwo im faxgate
</I>&gt;<i> Backend Script von Cups, nur leider bin ich kein Programmierer. W&#228;re
</I>&gt;<i> toll, wenn mir dazu jemand helfen kann.
</I>
Gr&#252;&#223;e,
Ingo


-- 
## Registered Linux User #274727 -- <A HREF="http://counter.li.org/">http://counter.li.org/</A>
## Windows, Linux und Mac Office-Suite -- <A HREF="http://de.openoffice.org/">http://de.openoffice.org/</A>
## Die OpenOffice.org PrOOo-Box -- <A HREF="http://prooo-box.org/">http://prooo-box.org/</A>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/faxgate-users/attachments/20070212/b90b11d1/attachment.pgp">https://lists.berlios.de/pipermail/faxgate-users/attachments/20070212/b90b11d1/attachment.pgp</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000007.html">[FaxGate-users] Fehlerhafte CapiSuite Konfiguration
</A></li>
	<LI>Next message: <A HREF="000008.html">[FaxGate-users] Fehlerhafte CapiSuite Konfiguration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9">[ date ]</a>
              <a href="thread.html#9">[ thread ]</a>
              <a href="subject.html#9">[ subject ]</a>
              <a href="author.html#9">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/faxgate-users">More information about the FaxGate-users
mailing list</a><br>
</body></html>
